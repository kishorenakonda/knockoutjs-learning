<!DOCTYPE html>

<head>
    <title> KnockoutJS CRUD Example </title>
    <script src="https://ajax.aspnetcdn.com/ajax/knockout/knockout-3.1.0.js" type="text/javascript"></script>

    <script type="text/javascript" src="../js/crud.js" defer="defer"></script>
    <link rel="stylesheet" href="../css/customer.css">
</head>

<body>
    <div class="customer-wrapper">
        <!-- Create -->
        <div class="create-customer widget-background">
            <div class="widget-header">
                <div> Create Customer </div>
            </div>

            <div class="widget-body">
                <div class="field-row">
                    <span class="row-label"> First Name </span>
                    <span class="input-box">
                        <input data-bind="value: firstname">
                    </span>
                </div>
                <div class="field-row p-t-10">
                    <span class="row-label"> Last Name </span>
                    <span class="input-box">
                        <input data-bind="value: lastname">
                    </span>
                </div>
                <div class="field-row p-t-10">
                    <span class="row-label"> Mobile Number </span>
                    <span class="input-box">
                        <input type="tel" id="mobile" name="mobile" data-bind="value: mobileno"
                            pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}">
                    </span>
                </div>
            </div>

            <div class="widget-actions">
                <button data-bind="click: createCustomer"> Create </button>
            </div>
        </div>

        <!-- Read -->
        <div class="read-customer widget-background">
            <div class="widget-header">
                <div class="customer-list-header-wrapper">
                    <div> Customer List </div>
                    <div>
                        <span> Sort </span>
                        <span>
                            <select data-bind="options: sortOptions, 
                                value: selectedSortOption,
                                event: {change: onSort}">
                            </select>
                        </span>
                    </div>
                </div>
            </div>

            <div class="widget-body">
                <table>
                    <caption></caption>
                    <thead>
                        <th id="sno"> S.No </th>
                        <th id="firstname"> First Name </th>
                        <th id="lastname"> Last Name </th>
                        <th id="mobileno"> Mobile Number </th>
                        <th id="action"> Action </th>
                    </thead>
                    <tbody data-bind="foreach: customerList">
                        <tr>
                            <td> <span data-bind="text: id"></span> </td>

                            <td>
                                <!-- ko ifnot: isEditSelected -->
                                <span data-bind="text: firstname.length > 0 ? firstname : '-'"></span>
                                <!-- /ko -->

                                <!-- ko if: isEditSelected -->
                                <input data-bind="value: firstname">
                                <!-- /ko -->
                            </td>

                            <td>
                                <!-- ko ifnot: isEditSelected -->
                                <span data-bind="text: lastname.length > 0 ? lastname : '-'"></span>
                                <!-- /ko -->

                                <!-- ko if: isEditSelected -->
                                <input data-bind="value: lastname">
                                <!-- /ko -->
                            </td>

                            <td>
                                <!-- ko ifnot: isEditSelected -->
                                <span data-bind="text: mobileno.length > 0 ? mobileno : '-'"></span>
                                <!-- /ko -->

                                <!-- ko if: isEditSelected -->
                                <input data-bind="value: mobileno">
                                <!-- /ko -->
                            </td>

                            <td>
                                <div class="" data-bind="ifnot: isEditSelected">
                                    <button data-bind="click: $root.editCustomer"> Edit </button>
                                    <button data-bind="click: $root.deleteCustomer"> Delete </button>
                                </div>

                                <div class="" data-bind="if: isEditSelected">
                                    <button data-bind="click: $root.updateCustomer"> Update </button>
                                    <button data-bind="click: $root.cancelEditCustomer"> Cancel </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>

</html>